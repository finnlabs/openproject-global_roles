<%#-- copyright
OpenProject is a project management system.

Copyright (C) 2010-2013 the OpenProject Team

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License version 3.

See doc/COPYRIGHT.rdoc for more details.

++#%>

<% def available_additional_global_roles available_roles, user
	available_roles - user.global_roles
end%>

<div class="splitcontentright" id="available_principal_roles">
<fieldset><legend><%= Role.model_name.human(:count => 2) %></legend>
<span id="additional_principal_roles">
<%= remote_form_for(:principal_roles, :url => principal_roles_url, :method => :post) do %>
	<%= hidden_field_tag 'principal_role[principal_id]', user.id %>
<% available_additional_global_roles(global_roles, user).each do |role| %>
  <%= render :partial => 'users/available_global_role', :locals => {:role => role} %>
<% end %>
<p><%= submit_tag l(:button_add) %></p>
<% end %>
</span>
<span id="no_additional_principal_roles" style="display:none">
<p id="no_data" class="nodata"><%= l(:label_no_assignable_role) %></p>
<span>
</fieldset>
</div>
